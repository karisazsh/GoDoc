# Streamlit Elements рдХреЗ рд╕рд╛рде рдбреНрд░реИрдЧ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдФрд░ рдЖрдХрд╛рд░ рдмрджрд▓рдиреЗ рдпреЛрдЧреНрдп рдбреИрд╢рдмреЛрд░реНрдб рдмрдирд╛рдПрдВ
Streamlit Elements [okld](https://github.com/okld) рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдПрдХ рдерд░реНрдб-рдкрд╛рд░реНрдЯреА рдХрдВрдкреЛрдиреЗрдВрдЯ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ Material UI рд╡рд┐рдЬреЗрдЯреНрд╕, Monaco рд╕рдВрдкрд╛рджрдХ (рд╡рд┐рдЬреБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ рдХреЛрдб), Nivo рдЪрд╛рд░реНрдЯ рдФрд░ рдЕрдиреНрдп рдХреЗ рд╕рд╛рде рд╕реБрдВрджрд░ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдФрд░ рдбреИрд╢рдмреЛрд░реНрдб рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЯреВрд▓ рджреЗрддрд╛ рд╣реИ|

## рдХреИрд╕реЗ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░реЗ?

### рдЗрдВрд╕реНрдЯрд╛рд▓реЗрд╢рди

рдкрд╣рд▓рд╛ рдХрджрдо рдЖрдкрдХреЗ рдЗрдиреНрд╡рд╛рдпрд░рдореЗрдВрдЯ рдореЗрдВ Streamlit Elements рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рд╣реИ:

```bash
pip install streamlit-elements==0.1.*
```

рд╡рд░реНрд╢рди рдХреЛ `0.1.*` рдкрд░ рдкрд┐рди рдХрд░рдиреЗ рдХреА рдЕрдиреБрд╢рдВрд╕рд╛ рдХреА рдЬрд╛рддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рднрд╡рд┐рд╖реНрдп рдХреЗ рд╡рд░реНрдЬрд╝рди рдореЗрдВ рдмреНрд░реЗрдХрд┐рдВрдЧ API рдкрд░рд┐рд╡рд░реНрддрди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ|


### рдЙрдкрдпреЛрдЧ

рдЗрди-рдбреЗрдкреНрде рдЙрдкрдпреЛрдЧ рдЧрд╛рдЗрдб рдХреЗ рд▓рд┐рдП рдЖрдк [Streamlit Elements README](https://github.com/okld/streamlit-elements#getting-started) рдХрд╛ рд╕рдВрджрд░реНрдн рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ|


## рд╣рдо рдХреНрдпрд╛ рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВ?

рдЖрдЬ рдХреЗ рдЪреИрд▓реЗрдВрдЬ рдХрд╛ рд▓рдХреНрд╖реНрдп рддреАрди Material UI рдХрд╛рд░реНрдб рд╕реЗ рдмрдирд╛ рдПрдХ рдбреИрд╢рдмреЛрд░реНрдб рдмрдирд╛рдирд╛ рд╣реИ:

- рдХреБрдЫ рдбреЗрдЯрд╛ рдЗрдирдкреБрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Monaco рдХреЛрдб рдПрдбрд┐рдЯрд░ рд╡рд╛рд▓рд╛ рдкрд╣рд▓рд╛ рдХрд╛рд░реНрдб;
- Nivo Bump рдЪрд╛рд░реНрдЯ рдореЗрдВ рдЙрд╕ рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреВрд╕рд░рд╛ рдХрд╛рд░реНрдб;
- YouTube рд╡реАрдбрд┐рдпреЛ URL рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рддреАрд╕рд░рд╛ рдХрд╛рд░реНрдб рдПрдХ `st.text_input` рдХреЗ рд╕рд╛рде рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ|

рдЖрдк Nivo Bump рдбреЗрдореЛ рд╕реЗ рдЬреЗрдирд░реЗрдЯ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ 'рдбреЗрдЯрд╛' рдЯреИрдм рдореЗрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: https://nivo.rocks/bump/.

## рдбреЗрдореЛ рдРрдк

[![Streamlit рдРрдк](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://share.streamlit.io/okld/streamlit-elements-demo/main)

## рд▓рд╛рдЗрди-рдмрд╛рдп-рд▓рд╛рдЗрди рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреЗ рд╕рд╛рде рдХреЛрдб

```python
# рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдЕрдкрдиреЗ рдРрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЗрдореНрдкреЛрд░реНрдЯ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА.

import json
import streamlit as st
from pathlib import Path

# Streamlit рдПрд▓рд┐рдореЗрдВрдЯреНрд╕ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЗрди рд╕рднреА рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА.
# рд╕рднреА рдЙрдкрд▓рдмреНрдз рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдФрд░ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд╣рд╛рдВ рд╕реВрдЪреАрдмрджреНрдз рд╣реИ: https://github.com/okld/streamlit-elements#getting-started

from streamlit_elements import elements, dashboard, mui, editor, media, lazy, sync, nivo

# рдбреИрд╢рдмреЛрд░реНрдб рдХреЛ рдкреВрд░реЗ рдкреЗрдЬ рдкрд░ рд▓реЗ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкреЗрдЬ рд▓реЗрдЖрдЙрдЯ рдмрджрд▓реЗрдВ.

st.set_page_config(layout="wide")

with st.sidebar:
    st.title("ЁЯЧУя╕П #30DaysOfStreamlit")
    st.header("Day 27 - Streamlit Elements")
    st.write("Build a draggable and resizable dashboard with Streamlit Elements.")
    st.write("---")

    # рдореАрдбрд┐рдпрд╛ рдкреНрд▓реЗрдпрд░ рдХреЗ рд▓рд┐рдП URL рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВ.
    media_url = st.text_input("Media URL", value="https://www.youtube.com/watch?v=vIQQR_yq-8I")

# рдХреЛрдб рдПрдбрд┐рдЯрд░ рдФрд░ рдЪрд╛рд░реНрдЯ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдбреЗрдЯрд╛ рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░реЗрдВ.
#
# рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ Nivo Bump рдЪрд╛рд░реНрдЯ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА.
# рдЖрдк рд╡рд╣рд╛рдВ рд░реИрдВрдбрдо рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЯреИрдм 'рдбреЗрдЯрд╛' рдореЗрдВ: https://nivo.rocks/bump/
#
# рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдиреАрдЪреЗ рджреЗрдЦреЗрдВрдЧреЗ, рд╣рдорд╛рд░реЗ рдХреЛрдб рдПрдбрд┐рдЯрд░ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд╣реЛрдиреЗ рдкрд░ рдпрд╣ рд╕реЗрд╢рди рд╕реНрдЯреЗрдЯ рдЖрдЗрдЯрдо рдЕрдкрдбреЗрдЯ рд╣реЛ рдЬрд╛рдПрдЧрд╛, 
# рдФрд░ рдЗрд╕реЗ рдбреЗрдЯрд╛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП Nivo Bump рдЪрд╛рд░реНрдЯ рджреНрд╡рд╛рд░рд╛ рдкрдврд╝рд╛ рдЬрд╛рдПрдЧрд╛.

if "data" not in st.session_state:
    st.session_state.data = Path("data.json").read_text()

# рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдбреИрд╢рдмреЛрд░реНрдб рд▓реЗрдЖрдЙрдЯ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВ.
# Dashboard grid has 12 columns by default.
#
# рдЙрдкрд▓рдмреНрдз рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП:
# https://github.com/react-grid-layout/react-grid-layout#grid-item-props.

layout = [
    # рдПрдбрд┐рдЯрд░ рдЖрдЗрдЯрдо рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ x=0 рдФрд░ y=0 рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ, рдФрд░ 6/12 рдХреЙрд▓рдо рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреА рдКрдВрдЪрд╛рдИ 3 рд╣реИ.
    dashboard.Item("editor", 0, 0, 6, 3),
    # рдЪрд╛рд░реНрдЯ рдЖрдЗрдЯрдо рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ x=6 рдФрд░ y=0 рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ, рдФрд░ 6/12 рдХреЙрд▓рдо рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреА рдКрдВрдЪрд╛рдИ 3 рд╣реИ.
    dashboard.Item("chart", 6, 0, 6, 3),
    # рдореАрдбрд┐рдпрд╛ рдЖрдЗрдЯрдо рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ x=0 рдФрд░ y=3 рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ, рдФрд░ 6/12 рдХреЙрд▓рдо рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреА рдКрдВрдЪрд╛рдИ 4 рд╣реИ.
    dashboard.Item("media", 0, 2, 12, 4),
]

# рдПрд▓рд┐рдореЗрдВрдЯреНрд╕ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд╝реНрд░реЗрдо рдмрдирд╛рдПрдВ.

with elements("demo"):

    # рдКрдкрд░ рдмрддрд╛рдП рдЧрдП рд▓реЗрдЖрдЙрдЯ рдХреЗ рд╕рд╛рде рдирдпрд╛ рдбреИрд╢рдмреЛрд░реНрдб рдмрдирд╛рдПрдВ.
    #
    # 
    # рдпрд╣рд╛рдВ, 'рдбреНрд░реИрдЧреЗрдмрд▓' рдХреНрд▓рд╛рд╕ рдирд╛рдо рд╡рд╛рд▓реЗ рдПрд▓рд┐рдореЗрдВрдЯреНрд╕ рдбреНрд░реИрдЧреЗрдмрд▓ рд╣реЛрдВрдЧреЗ.
    # draggableHandle рдкреНрд░рддреНрдпреЗрдХ рдбреИрд╢рдмреЛрд░реНрдб рдЖрдЗрдЯрдо рдХреЗ рдбреНрд░реИрдЧ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ CSS рдХреНрд╡реЗрд░реА рдЪрдпрдирдХрд░реНрддрд╛ рд╣реИ.
    # рдбреИрд╢рдмреЛрд░реНрдб рдЧреНрд░рд┐рдб рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдкреИрд░рд╛рдореАрдЯрд░ рдкрд░ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП:
    # https://github.com/react-grid-layout/react-grid-layout#grid-layout-props
    # https://github.com/react-grid-layout/react-grid-layout#responsive-grid-layout-props

    with dashboard.Grid(layout, draggableHandle=".draggable"):

        # рдкрд╣рд▓рд╛ рдХрд╛рд░реНрдб, рдХреЛрдб рдПрдбрд┐рдЯрд░.
        #
        # рд╣рдо рд╕рд╣реА рдбреИрд╢рдмреЛрд░реНрдб рдЖрдЗрдЯрдо рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП 'рдХреА' рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ.
        #
        # рдЙрдкрд▓рдмреНрдз рдКрдВрдЪрд╛рдИ рдореЗрдВ рдХрд╛рд░реНрдб рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рднрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо CSS flexbox рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ.
        # CSS рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП sx рдкреНрд░рддреНрдпреЗрдХ рд╕рд╛рдордЧреНрд░реА UI рд╡рд┐рдЬреЗрдЯ рдХреЗ рд╕рд╛рде рдЙрдкрд▓рдмреНрдз рдПрдХ рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИ.
        #
        # рдХрд╛рд░реНрдб, flexbox рдФрд░ sx рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП:
        # https://mui.com/components/cards/
        # https://mui.com/system/flexbox/
        # https://mui.com/system/the-sx-prop/

        with mui.Card(key="editor", sx={"display": "flex", "flexDirection": "column"}):

            # рдЗрд╕ рд╣реЗрдбрд░ рдХреЛ рдбреНрд░реИрдЧреЗрдмрд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЗрд╕рдХреЗ рдХреНрд▓рд╛рд╕ рдирд╛рдо рдХреЛ 'рдбреНрд░реИрдЧреЗрдмрд▓' рдкрд░ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐
            # рдбреИрд╢рдмреЛрд░реНрдб рдореЗрдВ рдКрдкрд░ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ. Grid рдХрд╛ draggableHandle.

            mui.CardHeader(title="Editor", className="draggable")

            # рд╣рдо flex CSS рдорд╛рди рдХреЛ 1 рдкрд░ рд╕реЗрдЯ рдХрд░рдХреЗ рдХрд╛рд░реНрдб рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЙрдкрд▓рдмреНрдз рд╕рднреА рдКрдВрдЪрд╛рдИ рддрдХ рд▓реЗ рдЬрд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ.
            # рд╣рдо рдпрд╣ рднреА рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ minHeight рдХреЛ 0 рдкрд░ рд╕реЗрдЯ рдХрд░рдХреЗ рдХрд╛рд░реНрдб рдХреЗ рд╕рд┐рдХреБрдбрд╝рдиреЗ рдкрд░ рдХрд╛рд░реНрдб рдХреА рд╕рд╛рдордЧреНрд░реА рднреА рд╕рд┐рдХреБрдбрд╝ рдЬрд╛рдП.

            with mui.CardContent(sx={"flex": 1, "minHeight": 0}):

                # рдпрд╣ рд░рд╣рд╛ рд╣рдорд╛рд░рд╛ Monaco рдХреЛрдб рдПрдбрд┐рдЯрд░.
                #
                # рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдХреЛ st.session_state.data рдкрд░ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рд╣рдордиреЗ рдКрдкрд░ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд┐рдпрд╛ рдерд╛.
                # рджреВрд╕рд░рд╛, рд╣рдо рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднрд╛рд╖рд╛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдпрд╣рд╛рдВ JSON.
                #
                # рдлрд┐рд░, рд╣рдо рдПрдбрд┐рдЯрд░ рдХреА рд╕рд╛рдордЧреНрд░реА рдореЗрдВ рдХрд┐рдП рдЧрдП рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ.
                # Monaco рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ, рдПрдХ onChange рдкреНрд░реЙрдкрд░реНрдЯреА рд╣реИ рдЬреЛ рдХрд╛рдо рдХрд░рддреА рд╣реИ.
                # рд╣рд░ рдмрд╛рд░ рдмрджрд▓рд╛рд╡ рдХрд┐рдП рдЬрд╛рдиреЗ рдкрд░ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЕрдкрдбреЗрдЯ рдХрд┐рдП рдЧрдП рд╕рд╛рдордЧреНрд░реА рдорд╛рди рдХреЛ рдкрд╣рд▓реЗ
                # рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (cf. onChange: https://github.com/suren-atoyan/monaco-react#props)
                #
                # Streamlit рдПрд▓рд┐рдореЗрдВрдЯреНрд╕ рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╕рд┐рдВрдХ () рдлрд╝рдВрдХреНрд╢рди рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ. 
                # рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рдПрдХ рдХреЙрд▓рдмреИрдХ рдмрдирд╛рддрд╛ рд╣реИ рдЬреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕рдХреЗ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ Streamlit рдХреЗ рд╕реЗрд╢рди рд╕реНрдЯреЗрдЯ рдЖрдЗрдЯрдо рдореЗрдВ рдлреЙрд░рд╡рд░реНрдб рдХрд░реЗрдЧрд╛.
                #
                # рдЙрджрд╛рд╣рд░рдг
                # --------
                # рдПрдХ рдХреЙрд▓рдмреИрдХ рдмрдирд╛рдПрдВ рдЬреЛ "рдбреЗрдЯрд╛" рдирд╛рдордХ рд╕реЗрд╢рди рд╕реНрдЯреЗрдЯ рдЖрдЗрдЯрдо рдХреЗ рд▓рд┐рдП рдЕрдкрдирд╛ рдкрд╣рд▓рд╛ рдкреИрд░рд╛рдореАрдЯрд░ рдлреЙрд░рд╡рд░реНрдб рдХрд░рддрд╛ рд╣реИ:
                # >>> editor.Monaco(onChange=sync("data"))
                # >>> print(st.session_state.data)
                #
                # рдПрдХ рдХреЙрд▓рдмреИрдХ рдмрдирд╛рдПрдВ рдЬреЛ рдЗрд╕рдХреЗ рджреВрд╕рд░реЗ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ "ev" рдирд╛рдордХ рд╕реЗрд╢рди рд╕реНрдЯреЗрдЯ рдЖрдЗрдЯрдо рдкрд░ рдлреЙрд░рд╡рд░реНрдб рдХрд░рддрд╛ рд╣реИ:
                # >>> editor.Monaco(onChange=sync(None, "ev"))
                # >>> print(st.session_state.ev)
                #
                # рдПрдХ рдХреЙрд▓рдмреИрдХ рдмрдирд╛рдПрдБ рдЬреЛ рдЗрд╕рдХреЗ рджреЛрдиреЛрдВ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╕реЗрд╢рди рд╕реНрдЯреЗрдЯ рдореЗрдВ рдлреЙрд░рд╡рд░реНрдб рдХрд░рддрд╛ рд╣реИ:
                # >>> editor.Monaco(onChange=sync("data", "ev"))
                # >>> print(st.session_state.data)
                # >>> print(st.session_state.ev)
                #
                # рдЕрдм, рдПрдХ рд╕рдорд╕реНрдпрд╛ рд╣реИ: рдкрд░рд┐рд╡рд░реНрддрди рдХрд┐рдП рдЬрд╛рдиреЗ рдкрд░ рд╣рд░ рдмрд╛рд░ onChange рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рд╣рд░ рдмрд╛рд░ рдЬрдм рдЖрдк
                # рдПрдХ рд╣реА рд╡рд░реНрдг рдЯрд╛рдЗрдк рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХрд╛ рд╕рдВрдкреВрд░реНрдг Streamlit рдРрдк рдлрд┐рд░ рд╕реЗ рдЪрд╛рд▓реВ рд╣реЛ рдЬрд╛рдПрдЧрд╛.
                #
                # рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдЕрдкрдиреЗ рдХреЙрд▓рдмреИрдХ рдХреЛ рд▓реЗреЫреА() рдХреЗ рд╕рд╛рде рд░реИрдкрд┐рдВрдЧ рдХрд░рдХреЗ рдЕрдкрдбреЗрдЯ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЛ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП
                # Streamlit рдПрд▓рд┐рдореЗрдВрдЯреНрд╕ рдХреЛ рдХрд┐рд╕реА рдЕрдиреНрдп рдИрд╡реЗрдВрдЯ рдХреЗ рд╣реЛрдиреЗ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ (рдЬреИрд╕реЗ рдПрдХ рдмрдЯрди рдХреНрд▓рд┐рдХ).
                #
                # Monaco рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП:
                # https://github.com/suren-atoyan/monaco-react
                # https://microsoft.github.io/monaco-editor/api/interfaces/monaco.editor.IStandaloneEditorConstructionOptions.html

                editor.Monaco(
                    defaultValue=st.session_state.data,
                    language="json",
                    onChange=lazy(sync("data"))
                )

            with mui.CardActions:

                # Monaco рдПрдбрд┐рдЯрд░ рдХреЗ рдкрд╛рд╕ onChange рдХреЗ рд▓рд┐рдП рдПрдХ рд▓реЗреЫреА рдХреЙрд▓рдмреИрдХ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рднрд▓реЗ рд╣реА рдЖрдк Monaco рдХреА
                # рд╕рд╛рдордЧреНрд░реА рдХреЛ рдмрджрд▓рддреЗ рд╣реИрдВ, Streamlit рдХреЛ рд╕реАрдзреЗ рдЕрдзрд┐рд╕реВрдЪрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣рд░ рдмрд╛рд░ рдкреБрдирдГ рд▓реЛрдб рдирд╣реАрдВ рд╣реЛрдЧрд╛.
                # рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдЕрдкрдбреЗрдЯ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдиреЙрди-рд▓реЗреЫреА рдЗрд╡реЗрдВрдЯрдХреА реЫрд░реВрд░рдд рд╣реИ.
                #
                # рд╕рдорд╛рдзрд╛рди рдПрдХ рдРрд╕рд╛ рдмрдЯрди рдмрдирд╛рдирд╛ рд╣реИ рдЬреЛ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдкрд░ рдХреЙрд▓рдмреИрдХ рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рддрд╛ рд╣реИ.
                # рд╣рдорд╛рд░реЗ рдХреЙрд▓рдмреИрдХ рдХреЛ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдХреБрдЫ рднреА рдХрд░рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рдирд╣реАрдВ рд╣реИ.
                # рдЖрдк рдпрд╛ рддреЛ рдПрдХ рдЦрд╛рд▓реА Python рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдмрд┐рдирд╛ рдХрд┐рд╕реА рддрд░реНрдХ рдХреЗ рд╕рд┐рдВрдХ () рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ.
                #
                # рдЕрдм, рдЬрдм рднреА рдЖрдк рдЙрд╕ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВрдЧреЗ, onClick рдХреЙрд▓рдмреИрдХ рд╕рдХреНрд░рд┐рдп рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, 
                # рд▓реЗрдХрд┐рди рдЗрд╕ рджреМрд░рд╛рди рдмрджрд▓реЗ рдЧрдП рд╣рд░ рджреВрд╕рд░реЗ рд▓реЗреЫреА рдХреЙрд▓рдмреИрдХ рдХреЛ рднреА рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛.

                mui.Button("Apply changes", onClick=sync())

        # рджреВрд╕рд░рд╛ рдХрд╛рд░реНрдб, Nivo Bump рдЪрд╛рд░реНрдЯ.
        # рд╣рдо рд╕рд╛рдордЧреНрд░реА рдХреА рдКрдВрдЪрд╛рдИ рдХреЛ рд╕реНрд╡рддрдГ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓реЗ рдХрд╛рд░реНрдб рдХреЗ рд╕рдорд╛рди flexbox рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ.

        with mui.Card(key="chart", sx={"display": "flex", "flexDirection": "column"}):

            # рдЗрд╕ рд╣реЗрдбрд░ рдХреЛ рдбреНрд░реИрдЧреЗрдмрд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЗрд╕рдХреЗ рдХреНрд▓рд╛рд╕ рдирд╛рдо рдХреЛ 'рдбреНрд░реИрдЧреЗрдмрд▓' рдкрд░ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ,
            # рдЬреИрд╕рд╛ рдХрд┐ рдбреИрд╢рдмреЛрд░реНрдб рдореЗрдВ рдКрдкрд░ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ. Grid рдХрд╛ draggableHandle.

            mui.CardHeader(title="Chart", className="draggable")

            # рдКрдкрд░ рдХреА рддрд░рд╣, рд╣рдо flex рдХреЛ 1 рдФрд░ minHeight рдХреЛ 0 рдкрд░ рд╕реЗрдЯ рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдХрд╛рд░реНрдб рдХрд╛ рдЖрдХрд╛рд░ рдмрджрд▓рдиреЗ
            # рдкрд░ рдЕрдкрдиреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдмрдврд╝рд╛рдирд╛ рдФрд░ рд╕рд┐рдХреЛрдбрд╝рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ.

            with mui.CardContent(sx={"flex": 1, "minHeight": 0}):

                # рдпрд╣реАрдВ рдкрд░ рд╣рдо рдЕрдкрдирд╛ Bump рдЪрд╛рд░реНрдЯ рдмрдирд╛рдПрдВрдЧреЗ.
                #
                # рдЗрд╕ рдЕрднреНрдпрд╛рд╕ рдХреЗ рд▓рд┐рдП, рд╣рдо рдмрд╕ Nivo рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ Streamlit рдПрд▓рд┐рдореЗрдВрдЯреНрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ.
                # Nivo рдХрд╛ рдЙрджрд╛рд╣рд░рдг рд╡рд╣рд╛рдВ 'рдХреЛрдб' рдЯреИрдм рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИ: https://nivo.rocks/bump/
                #
                # рдбреЗрдЯрд╛ рдПрдХ рдбрд┐рдХреНрд╢рдирд░реА рдХреЛ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЗрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдЕрдкрдиреЗ JSON рдбреЗрдЯрд╛ рдХреЛ рдкрд╣рд▓реЗ рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╕реЗ
                # Python рдбрд┐рдХреНрд╢рдирд░реА рдореЗрдВ `json.loads()` рдХреЗ рд╕рд╛рде рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ.
                #
                # рдЕрдиреНрдп рдЙрдкрд▓рдмреНрдз Nivo рдЪрд╛рд░реНрдЯреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП:
                # https://nivo.rocks/

                nivo.Bump(
                    data=json.loads(st.session_state.data),
                    colors={ "scheme": "spectral" },
                    lineWidth=3,
                    activeLineWidth=6,
                    inactiveLineWidth=3,
                    inactiveOpacity=0.15,
                    pointSize=10,
                    activePointSize=16,
                    inactivePointSize=0,
                    pointColor={ "theme": "background" },
                    pointBorderWidth=3,
                    activePointBorderWidth=3,
                    pointBorderColor={ "from": "serie.color" },
                    axisTop={
                        "tickSize": 5,
                        "tickPadding": 5,
                        "tickRotation": 0,
                        "legend": "",
                        "legendPosition": "middle",
                        "legendOffset": -36
                    },
                    axisBottom={
                        "tickSize": 5,
                        "tickPadding": 5,
                        "tickRotation": 0,
                        "legend": "",
                        "legendPosition": "middle",
                        "legendOffset": 32
                    },
                    axisLeft={
                        "tickSize": 5,
                        "tickPadding": 5,
                        "tickRotation": 0,
                        "legend": "ranking",
                        "legendPosition": "middle",
                        "legendOffset": -40
                    },
                    margin={ "top": 40, "right": 100, "bottom": 40, "left": 60 },
                    axisRight=None,
                )

        # рдбреИрд╢рдмреЛрд░реНрдб рдХрд╛ рддреАрд╕рд░рд╛ рдПрд▓рд┐рдореЗрдВрдЯ, рдореАрдбрд┐рдпрд╛ рдкреНрд▓реЗрдпрд░.

        with mui.Card(key="media", sx={"display": "flex", "flexDirection": "column"}):
            mui.CardHeader(title="Media Player", className="draggable")
            with mui.CardContent(sx={"flex": 1, "minHeight": 0}):

                # рдпрд╣ рдПрд▓рд┐рдореЗрдВрдЯ ReactPlayer рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реИ, рдпрд╣ YouTube рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдФрд░ рднреА рдХрдИ рдкреНрд▓реЗрдпрд░ рдХреЛ рд╕рдкреЛрд░реНрдЯ рдХрд░рддрд╛ рд╣реИ.
                # рдЖрдк рдЗрд╕реЗ рд╡рд╣рд╛рдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: https://github.com/cookpete/react-player#props

                media.Player(url=media_url, width="100%", height="100%", controls=True)

```

## рдХреЛрдИ рдкреНрд░рд╢реНрди рд╣реИ?

Streamlit Elements рдпрд╛ рдЗрд╕ рдЪреИрд▓реЗрдВрдЬ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреЛрдИ рднреА рдкреНрд░рд╢реНрди рдмреЗрдЭрд┐рдЭрдХ рдкреВрдЫреЗрдВ: [Streamlit Elements рдЯреЙрдкрд┐рдХ](https://discuss.streamlit.io/t/streamlit-elements-build-draggable-and-resizable-dashboards-with-material-ui-nivo-charts-and-more/24616)
