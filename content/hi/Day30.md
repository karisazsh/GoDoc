# Streamlit рдРрдкреНрд╕ рдмрдирд╛рдиреЗ рдХреА рдХрд▓рд╛

*#30DaysOfStreamlit</0* рдЪреИрд▓реЗрдВрдЬ рдХрд╛ рдЖрдЬ рдХрд╛ 30рд╡рд╛рдВ рджрд┐рди|
рдЗрд╕ рдЪреИрд▓реЗрдВрдЬ рдореЗрдВ рдЕрдм рддрдХ рдЗрд╕реЗ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдзрд╛рдИ|

рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ, рд╣рдо рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрдирд┐рдпрд╛ рдХреА рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Streamlit рдРрдкреНрд╕ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрд╕ рд╕реАрдЦрдиреЗ рдХреЗ рдЪреИрд▓реЗрдВрдЬ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдЕрдкрдиреЗ рдирдП рдЬреНрдЮрд╛рди рдХреЛ рдмрддрд╛рдиреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ|

## рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рджреБрдирд┐рдпрд╛ рдХреА рд╕рдорд╕реНрдпрд╛

рдПрдХ рдХрд╛рдиреНрдЯреЗрдиреНрдЯ рдирд┐рд░реНрдорд╛рддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ, YouTube рд╡реАрдбрд┐рдпреЛ рд╕реЗ рдердВрдмрдиреЗрд▓ рдЗрдореЗрдЬреЗреЫ рддрдХ рдкрд╣реБрдВрдЪ рд╕рд╛рдорд╛рдЬрд┐рдХ рдкреНрд░рдЪрд╛рд░ рдФрд░ рдХрд╛рдиреНрдЯреЗрдиреНрдЯ рдХреНрд░реАрдПрд╢рди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╕рдВрд╕рд╛рдзрди рд╣реИрдВ|

рдЖрдЗрдП рдЬрд╛рдиреЗрдВ рдХрд┐ рд╣рдо рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рд╕реЗ рдХреИрд╕реЗ рдирд┐рдкрдЯреЗрдВрдЧреЗ рдФрд░ рдПрдХ Streamlit рдРрдк рдХреИрд╕реЗ рдмрдирд╛рдПрдВрдЧреЗ|

## рд╕рдорд╛рдзрд╛рди

рдЖрдЬ, рд╣рдо `yt-img-app` рдмрдирд╛рдиреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ, рдЬреЛ рдПрдХ Streamlit рдРрдк рд╣реИ рдЬреЛ YouTube рд╡реАрдбрд┐рдпреЛ рд╕реЗ рдердВрдмрдиреЗрд▓ рдЗрдореЗрдЬреЗреЫ рдХреЛ рдирд┐рдХрд╛рд▓ рд╕рдХрддрд╛ рд╣реИ|

рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдпрд╣рд╛рдВ 3 рдЖрд╕рд╛рди рд╕реНрдЯреЗрдкреНрд╕ рджрд┐рдП рдЧрдП рд╣реИрдВ, рдЬреЛ рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ Streamlit рдРрдк рдХрд░реЗ:

1. рдпреВреЫрд░ рд╕реЗ рдЗрдирдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ YouTube URL рд╕реНрд╡реАрдХрд╛рд░ рдХрд░реЗрдВ
2. рдпреВрдиреАрдХ YouTube рд╡реАрдбрд┐рдпреЛ ID рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП URL рдХреА рдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХрд░реЗрдВ
3. YouTube рд╡реАрдбрд┐рдпреЛ ID рдХреЛ рдПрдХ рдХрд╕реНрдЯрдо рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдЗрдирдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдЬреЛ YouTube рд╡реАрдбрд┐рдпреЛ рд╕реЗ рдердВрдмрдиреЗрд▓ рдЗрдореЗрдЬ рдХреЛ рд░рд┐рдЯреНрд░реАрд╡ рдФрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ

## рдирд┐рд░реНрджреЗрд╢

Streamlit рдРрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрдирдкреБрдЯ рдЯреЗрдХреНрд╕реНрдЯ рдмреЙрдХреНрд╕ рдореЗрдВ рдПрдХ YouTube URL рдХреЙрдкреА рдФрд░ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ|

## Demo рдРрдк

[![Streamlit рдРрдк](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://share.streamlit.io/dataprofessor/yt-img-app/)

## рдХреЛрдб
рдпрд╣рд╛рдВ `yt-img-app` Streamlit рдРрдк рдмрдирд╛рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ:
```python
import streamlit as st

st.title('ЁЯЦ╝я╕П yt-img-app')
st.header('YouTube Thumbnail Image Extractor App')

with st.expander('About this app'):
  st.write('This app retrieves the thumbnail image from a YouTube video.')
  
# Image settings
st.sidebar.header('Settings')
img_dict = {'Max': 'maxresdefault', 'High': 'hqdefault', 'Medium': 'mqdefault', 'Standard': 'sddefault'}
selected_img_quality = st.sidebar.selectbox('Select image quality', ['Max', 'High', 'Medium', 'Standard'])
img_quality = img_dict[selected_img_quality]

yt_url = st.text_input('Paste YouTube URL', 'https://youtu.be/JwSS70SZdyM')

def get_ytid(input_url):
  if 'youtu.be' in input_url:
    ytid = input_url.split('/')[-1]
  if 'youtube.com' in input_url:
    ytid = input_url.split('=')[-1]
  return ytid
    
# Display YouTube thumbnail image
if yt_url != '':
  ytid = get_ytid(yt_url) # yt or yt_url

  yt_img = f'http://img.youtube.com/vi/{ytid}/{img_quality}.jpg'
  st.image(yt_img)
  st.write('YouTube video thumbnail image URL: ', yt_img)
else:
  st.write('тШЭя╕П Enter URL to continue ...')
```

## рд▓рд╛рдЗрди-рдмрд╛рдп-рд▓рд╛рдЗрди рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг
Streamlit рдРрдк рдмрдирд╛рддреЗ рд╕рдордп рд╕рдмрд╕реЗ рдкрд╣рд▓реА рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ `streamlit` рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ import рдХрд░рдХреЗ рд╢реБрд░реВ рдХрд░рдирд╛ рд╣реИ:
```python
import streamlit as st
```

рдЗрд╕рдХреЗ рдмрд╛рдж, рд╣рдо рдРрдк рдХрд╛ рдЯрд╛рдЗрдЯрд▓ рдФрд░ рд╕рд╛рде рдореЗрдВ рд╣реЗрдбрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВ:
```python
st.title('ЁЯЦ╝я╕П yt-img-app')
st.header('YouTube Thumbnail Image Extractor App')
```

рдЬрдм рддрдХ рд╣рдо рдЗрд╕ рдкрд░ рд╣реИрдВ, рд╣рдо рд╡рд┐рд╕реНрддрд╛рд░ рдпреЛрдЧреНрдп рдмреЙрдХреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдмрддрд╛ рд╕рдХрддреЗ рд╣реИрдВ|
```python
with st.expander('About this app'):
  st.write('This app retrieves the thumbnail image from a YouTube video.')
```
 
Here, we create selection box for accepting user input on the image quality to use.
```python
# Image settings
st.sidebar.header('Settings')
img_dict = {'Max': 'maxresdefault', 'High': 'hqdefault', 'Medium': 'mqdefault', 'Standard': 'sddefault'}
selected_img_quality = st.sidebar.selectbox('Select image quality', ['Max', 'High', 'Medium', 'Standard'])
img_quality = img_dict[selected_img_quality]
```

рдЗрдореЗрдЬ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП YouTube рд╡реАрдбрд┐рдпреЛ URL рдкрд░ рдпреВреЫрд░ рдЗрдирдкреБрдЯ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдирдкреБрдЯ рдЯреЗрдХреНрд╕реНрдЯ рдмреЙрдХреНрд╕ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ.
```python
yt_url = st.text_input('Paste YouTube URL', 'https://youtu.be/JwSS70SZdyM')
```

рдЗрдирдкреБрдЯ URL рдХрд╛ рдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрд╕реНрдЯрдо рдлрд╝рдВрдХреНрд╢рди.
```python
def get_ytid(input_url):
  if 'youtu.be' in input_url:
    ytid = input_url.split('/')[-1]
  if 'youtube.com' in input_url:
    ytid = input_url.split('=')[-1]
  return ytid
```


рдЕрдВрдд рдореЗрдВ, рд╣рдо рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП реЮреНрд▓реЛ рдХрдВрдЯреНрд░реЛрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ URL рджрд░реНрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░рд┐рдорд╛рдЗрдВрдбрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВ (рдпрд╛рдиреА рдЬреИрд╕рд╛ рдХрд┐ `else` рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ рдореЗрдВ рд╣реИ) рдпрд╛ YouTube рдердВрдмрдиреЗрд▓ рдЗрдореЗрдЬ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП (рдпрд╛рдиреА рдЬреИрд╕рд╛ рдХрд┐ `if` рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ рдореЗрдВ рд╣реИ)|
```python
# Display YouTube thumbnail image
if yt_url != '':
  ytid = get_ytid(yt_url) # yt or yt_url

  yt_img = f'http://img.youtube.com/vi/{ytid}/{img_quality}.jpg'
  st.image(yt_img)
  st.write('YouTube video thumbnail image URL: ', yt_img)
else:
  st.write('тШЭя╕П Enter URL to continue ...')
```

## рд╕рд╛рд░рд╛рдВрд╢

рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рд╣рдордиреЗ рджреЗрдЦрд╛ рд╣реИ рдХрд┐ рдХрд┐рд╕реА рднреА Streamlit рдРрдк рдХреЗ рдирд┐рд░реНрдорд╛рдг рдореЗрдВ, рд╣рдо рдЖрдо рддреМрд░ рдкрд░ рдкрд╣рд▓реЗ рд╕рдорд╕реНрдпрд╛ рдХреА рдкрд╣рдЪрд╛рди рдФрд░ рдЙрд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдХреЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ|

рдЗрд╕рдХреЗ рдмрд╛рдж, рд╣рдо рд╕рдорд╕реНрдпрд╛ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рдзрд╛рди рддреИрдпрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдЫреЛрдЯреЗ рд╕реНрдЯреЗрдкреНрд╕ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ рд╣рдо Streamlit рдРрдк рдореЗрдВ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ|

рдпрд╣рд╛рдВ, рд╣рдореЗрдВ рдпреВреЫрд░ рд╕реЗ рдЗрдирдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдХреМрди рд╕реЗ рдбреЗрдЯрд╛ рдпрд╛ рдЬрд╛рдирдХрд╛рд░реА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдФрд░ рдЕрдВрддрд┐рдо рд╡рд╛рдВрдЫрд┐рдд рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рдЙрддреНрдкрд╛рджрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпреВреЫрд░ рдЗрдирдкреБрдЯ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреГрд╖реНрдЯрд┐рдХреЛрдг рдФрд░ рд╡рд┐рдзрд┐ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рд╣реЛрдВрдЧреЗ|

рдЖрд╢рд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдпрд╣ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдЕрдЪреНрдЫрд╛ рд▓рдЧрд╛ рд╣реЛрдЧрд╛, рд╣реИрдкреНрдкреА Streamlit-ing!
